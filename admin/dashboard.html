<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8"/>
    <meta content="width=device-width, initial-scale=1.0" name="viewport"/>
    <title>Admin Dashboard - Byte Hub</title>
    <link href="../assets/css/styles.css" rel="stylesheet"/>
</head>
<body>
    <!-- Header -->
    <header>
        <h1>Admin Dashboard</h1>
        <nav>
            <a href="../index.html">Home</a>
            <a href="#" id="logout-button">Logout</a>
        </nav>
    </header>

    <!-- Dashboard Buttons -->
    <main>
        <section class="dashboard-buttons">
            <button onclick="location.href='order_management.html'" class="dashboard-button">Order Management</button>
            <button onclick="location.href='product_management.html'" class="dashboard-button">Product Management</button>
            <button onclick="location.href='supplier_management.html'" class="dashboard-button">Supplier Management</button>
            <button onclick="location.href='employee_management.html'" class="dashboard-button">Employee Management</button>
        </section>
    </main>

    <!-- Footer -->
    <footer>
        <p>&copy; 2025 Byte Hub. All rights reserved.</p>
    </footer>

    <script>
        document.getElementById("logout-button").addEventListener("click", function () {
            fetch('http://127.0.0.1:5000/api/admin/logout', {
                method: 'POST',
                credentials: 'include'
            })
            .then(response => response.json())
            .then(data => {
                if (data.success) {
                    alert("You have been logged out.");
                    window.location.href = "../admin/admin_login.html"; // Redirect to admin login page
                } else {
                    alert("Logout failed. Please try again.");
                }
            })
            .catch(error => {
                console.error("Error during logout:", error);
                alert("An error occurred. Please try again later.");
            });
        });
    </script>
</body>
</html>